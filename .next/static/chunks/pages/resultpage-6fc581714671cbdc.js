(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[886],{6834:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/resultpage",function(){return t(539)}])},539:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(4848),l=t(6540),r=t(2815);let n=()=>{var e,s,t;let n=(0,r.zy)(),i=(0,r.Zp)(),[c,d]=(0,l.useState)(null),[o,h]=(0,l.useState)(!0),[m,x]=(0,l.useState)("");if((0,l.useEffect)(()=>{if(!n.state||!n.state.essay_id)return i("/exam-selection");(async()=>{try{h(!0);let e=await fetch("http://localhost:5000/api/results/".concat(n.state.essay_id));if(!e.ok)throw Error("Failed to fetch results. Please try again later.");let s=await e.json();if(s.success)d(s.data);else throw Error(s.message||"Error fetching result data.")}catch(e){console.error("Error fetching result:",e),x(e.message)}finally{h(!1)}})()},[n,i]),o)return(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,a.jsx)("div",{className:"spinner border-t-4 border-blue-500 rounded-full w-8 h-8 animate-spin"}),(0,a.jsx)("p",{className:"ml-4",children:"Loading..."})]});if(m)return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[(0,a.jsx)("p",{className:"text-red-500 mb-4",children:m}),(0,a.jsx)("button",{onClick:()=>i("/exam-selection"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Go Back"})]});let u=null!==(e=null==c?void 0:c.score)&&void 0!==e?e:"N/A",b=null!==(s=null==c?void 0:c.word_count)&&void 0!==s?s:"N/A",p=null!==(t=null==c?void 0:c.character_count)&&void 0!==t?t:"N/A";return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-white",children:(0,a.jsx)("h1",{className:"text-xl font-bold",children:"EssayPrep"})}),(0,a.jsx)("main",{className:"px-4 py-8",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Essay Evaluation Result"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"p-4 border rounded shadow-sm bg-white",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700",children:"Score"}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-2",children:u})]}),(0,a.jsxs)("div",{className:"p-4 border rounded shadow-sm bg-white",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700",children:"Word Count"}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-2",children:b})]}),(0,a.jsxs)("div",{className:"p-4 border rounded shadow-sm bg-white",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700",children:"Character Count"}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-2",children:p})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Feedback"}),(0,a.jsx)("div",{className:"bg-white p-4 rounded border prose max-w-none",children:c.feedback?c.feedback.split("\n").map((e,s)=>(0,a.jsx)("p",{className:"mb-2 text-gray-700",children:e},s)):(0,a.jsx)("p",{children:"No feedback available"})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h3",{className:"font-semibold mb-2",children:"Your Essay"}),(0,a.jsx)("div",{className:"bg-white p-4 rounded border",children:(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:n.state.essay})})]}),(0,a.jsxs)("div",{className:"mt-6 flex gap-4",children:[(0,a.jsx)("button",{onClick:()=>i("/exam-selection"),className:"px-6 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Take Another Test"}),(0,a.jsx)("button",{onClick:()=>window.print(),className:"px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Print Result"})]})]})})})]})}},6069:(e,s)=>{"use strict";Object.prototype.toString}},e=>{var s=s=>e(e.s=s);e.O(0,[244,636,593,792],()=>s(6834)),_N_E=e.O()}]);