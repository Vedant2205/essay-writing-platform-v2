"use strict";(()=>{var e={};e.id=886,e.ids=[220,886],e.modules={671:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,s){return s in t?t[s]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,s)):"function"==typeof t&&"default"===s?t:void 0}}})},4316:(e,t,s)=>{s.r(t),s.d(t,{config:()=>j,default:()=>x,getServerSideProps:()=>g,getStaticPaths:()=>f,getStaticProps:()=>b,reportWebVitals:()=>P,routeModule:()=>_,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>N});var r={};s.r(r),s.d(r,{default:()=>p});var a=s(3865),n=s(9455),l=s(671),i=s(781),o=s.n(i),d=s(3645),c=s.n(d),u=s(8732),m=s(2015),h=s(4822);let p=()=>{let e=(0,h.useLocation)(),t=(0,h.useNavigate)(),[s,r]=(0,m.useState)(null),[a,n]=(0,m.useState)(!0),[l,i]=(0,m.useState)("");if((0,m.useEffect)(()=>{if(!e.state||!e.state.essay_id)return t("/exam-selection");(async()=>{try{n(!0);let t=await fetch(`http://localhost:5000/api/results/${e.state.essay_id}`);if(!t.ok)throw Error("Failed to fetch results. Please try again later.");let s=await t.json();if(s.success)r(s.data);else throw Error(s.message||"Error fetching result data.")}catch(e){console.error("Error fetching result:",e),i(e.message)}finally{n(!1)}})()},[e,t]),a)return(0,u.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,u.jsx)("div",{className:"spinner border-t-4 border-blue-500 rounded-full w-8 h-8 animate-spin"}),(0,u.jsx)("p",{className:"ml-4",children:"Loading..."})]});if(l)return(0,u.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[(0,u.jsx)("p",{className:"text-red-500 mb-4",children:l}),(0,u.jsx)("button",{onClick:()=>t("/exam-selection"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Go Back"})]});let o=s?.score??"N/A",d=s?.word_count??"N/A",c=s?.character_count??"N/A";return(0,u.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,u.jsx)("header",{className:"p-4 border-b border-gray-200 flex justify-between items-center bg-white",children:(0,u.jsx)("h1",{className:"text-xl font-bold",children:"EssayPrep"})}),(0,u.jsx)("main",{className:"px-4 py-8",children:(0,u.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,u.jsxs)("section",{children:[(0,u.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Essay Evaluation Result"}),(0,u.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,u.jsxs)("div",{className:"p-4 border rounded shadow-sm bg-white",children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-700",children:"Score"}),(0,u.jsx)("p",{className:"text-2xl font-bold mt-2",children:o})]}),(0,u.jsxs)("div",{className:"p-4 border rounded shadow-sm bg-white",children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-700",children:"Word Count"}),(0,u.jsx)("p",{className:"text-2xl font-bold mt-2",children:d})]}),(0,u.jsxs)("div",{className:"p-4 border rounded shadow-sm bg-white",children:[(0,u.jsx)("h3",{className:"font-semibold text-gray-700",children:"Character Count"}),(0,u.jsx)("p",{className:"text-2xl font-bold mt-2",children:c})]})]}),(0,u.jsxs)("div",{className:"mb-6",children:[(0,u.jsx)("h3",{className:"font-semibold mb-2",children:"Feedback"}),(0,u.jsx)("div",{className:"bg-white p-4 rounded border prose max-w-none",children:s.feedback?s.feedback.split("\n").map((e,t)=>(0,u.jsx)("p",{className:"mb-2 text-gray-700",children:e},t)):(0,u.jsx)("p",{children:"No feedback available"})})]}),(0,u.jsxs)("div",{className:"mb-6",children:[(0,u.jsx)("h3",{className:"font-semibold mb-2",children:"Your Essay"}),(0,u.jsx)("div",{className:"bg-white p-4 rounded border",children:(0,u.jsx)("p",{className:"whitespace-pre-wrap",children:e.state.essay})})]}),(0,u.jsxs)("div",{className:"mt-6 flex gap-4",children:[(0,u.jsx)("button",{onClick:()=>t("/exam-selection"),className:"px-6 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition-colors",children:"Take Another Test"}),(0,u.jsx)("button",{onClick:()=>window.print(),className:"px-6 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Print Result"})]})]})})})]})},x=(0,l.M)(r,"default"),b=(0,l.M)(r,"getStaticProps"),f=(0,l.M)(r,"getStaticPaths"),g=(0,l.M)(r,"getServerSideProps"),j=(0,l.M)(r,"config"),P=(0,l.M)(r,"reportWebVitals"),N=(0,l.M)(r,"unstable_getStaticProps"),v=(0,l.M)(r,"unstable_getStaticPaths"),y=(0,l.M)(r,"unstable_getStaticParams"),S=(0,l.M)(r,"unstable_getServerProps"),w=(0,l.M)(r,"unstable_getServerSideProps"),_=new a.PagesRouteModule({definition:{kind:n.A.PAGES,page:"/resultpage",pathname:"/resultpage",bundlePath:"",filename:""},components:{App:c(),Document:o()},userland:r})},3645:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let r=s(9929),a=s(8732),n=r._(s(2015)),l=s(2811);async function i(e){let{Component:t,ctx:s}=e;return{pageProps:await (0,l.loadGetInitialProps)(t,s)}}class o extends n.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,a.jsx)(e,{...t})}}o.origGetInitialProps=i,o.getInitialProps=i,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9455:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return s}});var s=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},2015:e=>{e.exports=require("react")},4822:e=>{e.exports=require("react-router-dom")},8732:e=>{e.exports=require("react/jsx-runtime")},3873:e=>{e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[781],()=>s(4316));module.exports=r})();